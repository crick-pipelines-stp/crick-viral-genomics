process {
    publishDir = [
        path: { "${params.outdir}/${task.process.tokenize(':')[-1].tokenize('_')[0].toLowerCase()}" },
        mode: "${params.publish_dir_mode}",
        saveAs: { filename -> filename.equals('versions.yml') ? null : filename }
    ]
}

process {
    withName: 'SPADES_ASSEMBLE' {
        ext.args = "--only-assembler"
        // publishDir = [
        //     path: { "${params.outdir}/dorado/basecaller" },
        //     mode: "${params.publish_dir_mode}",
        //     saveAs: { filename -> filename.equals('versions.yml') ? null : filename }
        // ]
    }
}